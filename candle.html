<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Candle | Sweet Bliss Cake</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Google Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600&family=Poppins:wght@300;400;500&display=swap" rel="stylesheet">

<!-- External CSS -->
<link rel="stylesheet" href="style.css">

</head>

<body>

<!-- Top Bar -->
<div class="top-bar">
  <div class="promo">‚ú® Get Your Cake Today | Same Day Delivery ‚ú®</div>
 <div class="top-bar-actions">
<a href="cart.html" class="cart-btn">
  <img src="https://img.icons8.com/?size=100&id=CHIch3K0zCjb&format=png&color=1A1A1A"
       alt="Cart"
       class="cart-icon">
  <span class="cart-count" id="cart-count">0</span>
</a>
</div>
</div>

<header>
  <div class="logo">
    Sweet Bliss
    <span>Ready-made Cakes</span>
  </div>

  <nav>
    <ul>
      <li><a href="index.html">Home</a></li>

      <li>
        <a href="categories.html">Categories ‚ñæ</a>
        <ul>
          <li><a href="spongecake.html">Sponge Cake</a></li>
          <li><a href="cupcake.html">Cupcake</a></li>
          <li><a href="jellycake.html">Jelly Cake</a></li>
          <li><a href="bentocake.html">Bento Cake</a></li>
          <li><a href="cookies.html">Cookies</a></li>
        </ul>
      </li>

      <li>
        <a href="occasion.html">Occasion ‚ñæ</a>
        <ul>
          <li><a href="birthday.html">Birthday</a></li>
          <li><a href="wedding.html">Wedding</a></li>
          <li><a href="anniversary.html">Anniversary</a></li>
          <li><a href="graduation.html">Graduation</a></li>
          <li><a href="kids.html">Kids</a></li>
        </ul>
      </li>

      <li>
        <a href="theme.html">Theme ‚ñæ</a>
        <ul>
          <li><a href="sanrio.html">Sanrio & Friends</a></li>
          <li><a href="disney.html">Disney</a></li>
          <li><a href="cars.html">Cars</a></li>
          <li><a href="vintage.html">Vintage Cake</a></li>
          <li><a href="gaming.html">Gaming</a></li>
        </ul>
      </li>

      <li>
        <a href="accessories.html">Accessories ‚ñæ</a>
        <ul>
          <li><a href="topper.html">Topper</a></li>
          <li><a href="candle.html">Candle</a></li>
          <li><a href="giftcard.html">Gift Card</a></li>
        </ul>
      </li>

      <li><a href="contact.html">Contact</a></li>

    </ul>
  </nav>
</header>

<main>

<section class="occasion-hero">
  <div class="hero-wrapper">

    <div class="hero-content">
      <h2>CANDLE CAKE</h2>
<p>Our premium candle collection is designed to be the glowing centerpiece of your celebration <strong>100% natural beeswax or soy-blend waxes</strong>.  
Kindly purchase now.</p>

    </div>

<div class="hero-image">
  <img src="candle-hero.jpg" alt="Candle Cake Cakes by Sweet Bliss">
</div>

  </div>
</section>

<section class="occasion-section">
    <h2>CANDLE</h2>
    <p class="occasion-desc">
      Enhance your celebration with our premium cake candle collection. Designed to complement any cake topper, these candles provide a steady, beautiful flame for your special moment.
    </p>

<!-- SORT DROPDOWN -->
<div class="section clearfix">
  <div class="four columns section_select medium-down--one-whole">
    <select class="sort_by" id="sort-by" data-default-sort="manual">
      <option value="manual">Featured</option>
      <option value="price-ascending">Price: Low to High</option>
      <option value="price-descending">Price: High to Low</option>
    </select>
  </div>
</div>

<div class="product-grid">

<!-- Cake 1 -->
<div class="product-card" onclick="openCakeDetail('candle1')" data-price="69.90">
  <div class="product-image">
    <img src="c1.jpg" alt="Pearlized Slim Cake Candle">
  </div>
  <div class="product-details">
    <span class="title">Pearlized Slim Cake Candle</span>
    <span class="brand">Sweet Bliss</span>
    <div class="rating">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ <small>(67 reviews)</small></div>
    <div class="price"><small><em>from</em></small> RM 6.00</div>
    <button class="add-cake">Add to Cart</button>
  </div>
</div>

<!-- Cake 2 -->
<div class="product-card" onclick="openCakeDetail('candle2')" data-price="75.00">
  <div class="product-image">
    <img src="c2.jpg" alt="Mini Taper Chandelier Candle">
  </div>
  <div class="product-details">
    <span class="title">Mini Taper Chandelier Candle</span>
    <span class="brand">Sweet Bliss</span>
    <div class="rating">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ <small>(52 reviews)</small></div>
    <div class="price"><small><em>from</em></small> RM 15.00</div>
    <button class="add-cake">Add to Cart</button>
  </div>
</div>

<!-- Cake 3 -->
<div class="product-card" onclick="openCakeDetail('candle3')" data-price="89.90">
  <div class="product-image">
    <img src="c3.jpg" alt="The Strawberry Meadow Candle">
  </div>
  <div class="product-details">
    <span class="title">The Strawberry Meadow Candle</span>
    <span class="brand">Sweet Bliss</span>
    <div class="rating">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ <small>(85 reviews)</small></div>
    <div class="price"><small><em>from</em></small> RM 3.50</div>
    <button class="add-cake">Add to Cart</button>
  </div>
</div>

<!-- Cake 4 -->
<div class="product-card" onclick="openCakeDetail('candle4')" data-price="85.00">
  <div class="product-image">
    <img src="c4.jpg" alt="Butterfly-Shaped Sculptural Candle">
  </div>
  <div class="product-details">
    <span class="title">Butterfly-Shaped Sculptural Candle</span>
    <span class="brand">Sweet Bliss</span>
    <div class="rating">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ <small>(74 reviews)</small></div>
    <div class="price"><small><em>from</em></small> RM 10.00</div>
    <button class="add-cake">Add to Cart</button>
  </div>
</div>

<!-- Cake 5 -->
<div class="product-card" onclick="openCakeDetail('candle5')" data-price="95.00">
  <div class="product-image">
    <img src="c5.jpg" alt="Gold Chandelier Topper with Mini Tapers">
  </div>
  <div class="product-details">
    <span class="title">Gold Chandelier Topper with Mini Tapers</span>
    <span class="brand">Sweet Bliss</span>
    <div class="rating">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ <small>(91 reviews)</small></div>
    <div class="price"><small><em>from</em></small> RM 15.00</div>
    <button class="add-cake">Add to Cart</button>
  </div>
</div>

<!-- Cake 6 -->
<div class="product-card" onclick="openCakeDetail('candle6')" data-price="79.90">
  <div class="product-image">
    <img src="c6.jpg" alt="Pink Glitter 3D Number Candle">
  </div>
  <div class="product-details">
    <span class="title">Pink Glitter 3D Number Candle</span>
    <span class="brand">Sweet Bliss</span>
    <div class="rating">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ <small>(46 reviews)</small></div>
    <div class="price"><small><em>from</em></small> RM 4.00</div>
    <button class="add-cake">Add to Cart</button>
  </div>
</div>

<!-- Cake 7 -->
<div class="product-card" onclick="openCakeDetail('candle7')" data-price="82.00">
  <div class="product-image">
    <img src="c7.jpg" alt="Extra Long Gold Wavy / Spiral Candle">
  </div>
  <div class="product-details">
    <span class="title">Extra Long Gold Wavy / Spiral Candle</span>
    <span class="brand">Sweet Bliss</span>
    <div class="rating">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ <small>(63 reviews)</small></div>
    <div class="price"><small><em>from</em></small> RM 6.00</div>
    <button class="add-cake">Add to Cart</button>
  </div>
</div>

<!-- Cake 8 -->
<div class="product-card" onclick="openCakeDetail('candle8')" data-price="78.00">
  <div class="product-image">
    <img src="c8.jpg" alt="Single Tall Pastel Taper Candle">
  </div>
  <div class="product-details">
    <span class="title">Single Tall Pastel Taper Candle</span>
    <span class="brand">Sweet Bliss</span>
    <div class="rating">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ <small>(39 reviews)</small></div>
    <div class="price"><small><em>from</em></small> RM 2.00</div>
    <button class="add-cake">Add to Cart</button>
  </div>
</div>

<!-- Cake 9 -->
<div class="product-card" onclick="openCakeDetail('candle9')" data-price="88.00">
  <div class="product-image">
    <img src="c9.jpg" alt="Aesthetic: Dripping Bento Candle">
  </div>
  <div class="product-details">
    <span class="title">Aesthetic: Dripping Bento Candle</span>
    <span class="brand">Sweet Bliss</span>
    <div class="rating">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ <small>(58 reviews)</small></div>
    <div class="price"><small><em>from</em></small> RM 15.00</div>
    <button class="add-cake">Add to Cart</button>
  </div>
</div>

<!-- Cake 10 -->
<div class="product-card" onclick="openCakeDetail('candle10')" data-price="84.00">
  <div class="product-image">
    <img src="c10.jpg" alt="Tall Pastel Ribbon Bow Candle">
  </div>
  <div class="product-details">
    <span class="title">Tall Pastel Ribbon Bow Candle</span>
    <span class="brand">Sweet Bliss</span>
    <div class="rating">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ <small>(41 reviews)</small></div>
    <div class="price"><small><em>from</em></small> RM 3.00</div>
    <button class="add-cake">Add to Cart</button>
  </div>
</div>

<!-- Cake 11 -->
<div class="product-card" onclick="openCakeDetail('candle11')" data-price="59.90">
  <div class="product-image">
    <img src="c11.jpg" alt="Silver Glitter Star Wand Candle">
  </div>
  <div class="product-details">
    <span class="title">Silver Glitter Star Wand Candles</span>
    <span class="brand">Sweet Bliss</span>
    <div class="rating">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ <small>(33 reviews)</small></div>
    <div class="price"><small><em>from</em></small> RM 8.00</div>
    <button class="add-cake">Add to Cart</button>
  </div>
</div>

<!-- Cake 12 -->
<div class="product-card" onclick="openCakeDetail('candle12')" data-price="99.00">
  <div class="product-image">
    <img src="c12.jpg" alt="Character & Star Parade Set">
  </div>
  <div class="product-details">
    <span class="title">Character Cartoon & Star Parade Set</span>
    <span class="brand">Sweet Bliss</span>
    <div class="rating">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ <small>(102 reviews)</small></div>
    <div class="price"><small><em>from</em></small> RM 15.00</div>
    <button class="add-cake">Add to Cart</button>
  </div>
</div>


</div>

  </section>
  
<section class="cake-description">
  <div class="description-wrapper">
    <h2>The Signature Glow Candle Cake</h2>

    <p>
     Light up your celebration with the ultimate centerpiece! Our Signature Candle Cakes are a masterpiece of design, blending the deliciousness of premium sponge cake with the artistic glow of a candle.
    </p>

    <ul>
      <li>Pearlized Slim Cake Candle</li>
      <li>Mini Taper Chandelier Candle</li>
      <li>The Strawberry Meadow Candle</li>
      <li>Butterfly-Shaped Sculptural Candle</li>
      <li>Gold Chandelier Topper with Mini Tapers</li>
      <li>Pink Glitter 3D Number Candle</li>
      <li>Extra Long Gold Wavy/ Spiral Candle</li>
      <li>Single Tall Pastel Taper Candle</li>
      <li>Aesthetic: Dripping Bento Candle</li>
      <li>Silver Glitter Star Wand Candle</li>
      <li>Character Cartoon & Star Prade Set</li>
      <li>Tall Pastel Ribbon Bow Candle</li>
    </ul>

    <p>
      Choose your favourite design, add a birthday message, and select your delivery date ‚Äî we‚Äôll make sure the cake arrives ready to impress!
    </p>
  </div>
</section>

<div class="container collection-faq-wrap">
  <h2 class="title faq--heading">Frequently Asked Questions</h2>

  <dl class="faqAccordion">

    <dt>
      <button type="button" aria-controls="panel-01" aria-expanded="false">
        What types of cake candles do you offer?
      </button>
    </dt>
    <dd id="panel-01" aria-hidden="true">
      <p>
       We offer a variety of cake candles including number candles, spiral candles, twisted candles, colour stick candles, and themed candles suitable for different celebrations.
      </p>
    </dd>

    <dt>
      <button type="button" aria-controls="panel-02" aria-expanded="false">
        Are the candles safe to use on cakes?
      </button>
    </dt>
    <dd id="panel-02" aria-hidden="true">
      <p>
       Yes, all our candles are made from non-toxic materials and are safe for use on cakes when placed correctly.
      </p>
    </dd>

    <dt>
      <button type="button" aria-controls="panel-03" aria-expanded="false">
        What cake themes are suitable for kids‚Äô parties?
      </button>
    </dt>
    <dd id="panel-03" aria-hidden="true">
      <p>
       Yes, our candles are suitable for kids‚Äô birthday cakes. Adult supervision is recommended when lighting the candles.
      </p>
    </dd>

    <dt>
      <button type="button" aria-controls="panel-04" aria-expanded="false">
        Do the candles fit all cake sizes?
      </button>
    </dt>
    <dd id="panel-04" aria-hidden="true">
      <p>
       Most of our candles are designed to fit standard cake sizes. Number candles and stick candles can be arranged easily on both small and large cakes.
      </p>
    </dd>

    <dt>
      <button type="button" aria-controls="panel-05" aria-expanded="false">
        How should I store cake candles?
      </button>
    </dt>
    <dd id="panel-05" aria-hidden="true">
      <p>
Cake candles should be stored in a cool, dry place away from direct sunlight to prevent melting or damage.      </p>
    </dd>

  </dl>
</div>

<!-- JSON-LD Structured Data -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "FAQPage",
  "mainEntity": [
    {
      "@type": "Question",
      "name": "What cake flavours are most popular among kids?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Kids usually love classic flavours such as chocolate, vanilla, and strawberry. Other favourites include cookies & cream, red velvet, and colourful funfetti cakes."
      }
    },
    {
      "@type": "Question",
      "name": "Are there suitable cake options for 1-year-old children?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Yes. For first birthdays or smash cakes, we recommend baby-friendly options with reduced sugar and simple ingredients that are suitable for young children."
      }
    },
    {
      "@type": "Question",
      "name": "What cake themes are suitable for kids‚Äô parties?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Popular kids cake themes include cartoon characters, colourful designs, animals, princesses, superheroes, and fun whimsical styles that brighten up any celebration."
      }
    },
    {
      "@type": "Question",
      "name": "Do you offer simple baking tips for parents who want to bake at home?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Yes! Always use sturdy baking pans lined with parchment paper, preheat your oven properly, use fresh ingredients, and allow cakes to cool completely before decorating."
      }
    },
    {
      "@type": "Question",
      "name": "Why is cooling the cake important before decorating?",
      "acceptedAnswer": {
        "@type": "Answer",
        "text": "Letting the cake cool fully helps prevent the frosting from melting and ensures a neat, stable finish when decorating the cake."
      }
    }
  ]
}
</script>


<section class="info-bar">
  <div class="info-bar-inner">

    <div class="info-item">
      <span class="info-icon">
        <img src="https://cdn.shopify.com/s/files/1/0320/1672/8123/files/cr-sameday.svg?v=1684376072">
      </span>
      <span class="info-text">
        <strong>Same-Day Delivery</strong>
        <small>Order before 5PM</small>
      </span>
    </div>

    <div class="info-divider"></div>

    <div class="info-item">
      <span class="info-icon">
        <img src="https://cdn.shopify.com/s/files/1/0320/1672/8123/files/cr-calendar.svg?v=1684376072">
      </span>
      <span class="info-text">
        <strong>Choose Your Slot</strong>
        <small>Flexible delivery</small>
      </span>
    </div>

    <div class="info-divider"></div>

    <div class="info-item">
      <span class="info-icon">
        <img src="https://cdn.shopify.com/s/files/1/0320/1672/8123/files/cr-thumbsup.svg?v=1684376072">
      </span>
      <span class="info-text">
        <strong>Trusted Sellers</strong>
        <small>Top-rated bakers</small>
      </span>
    </div>

    <div class="info-divider"></div>

    <div class="info-item">
      <span class="info-icon">
        <img src="https://cdn.shopify.com/s/files/1/0320/1672/8123/files/cr-cake.svg?v=1684376072">
      </span>
      <span class="info-text">
        <strong>Premium Cakes</strong>
        <small>Fresh & quality</small>
      </span>
    </div>

  </div>
</section>

<!-- ================== CAKE DETAIL PAGE (Add-on) ================== -->
<section class="cake-detail" id="cakesDetail">
  <div class="detail-layout">

    <div><img id="detailImg" src="" alt="Cake Image"></div>

    <div>
      <h3 id="detailTitle"></h3>
      <p id="detailPrice"></p>

      <div class="acc_title" id="descToggle">
  <span>Product Description</span>
  <span class="acc_icon">+</span>
</div>

<div class="description bottom des_slide" id="descContent">
  <p class="desc-main">
    Six layers of pastel rainbow-colored vanilla cake filled high with a sweet and sour strawberry mousseline.
  </p>

  <div class="desc-section">
    <h4>Ingredients</h4>
    <p>Flour, Eggs, Sugar, Butter, Mixed Berry Spread, Berry Yoghurt, White Chocolate, Permitted Flavoring and Coloring</p>
  </div>

  <div class="desc-section">
    <h4>Weight & Dimensions</h4>
    <p>Large ‚Äì 1.5 kg ‚Äì 9" √ó 2.7"</p>
  </div>
</div>


      <!-- DELIVERY DATE -->
      <div class="option-group">
        <h4>SELECT YOUR DELIVERY DATE</h4>
        <div class="date-grid" id="dateButtons">
          <button class="date-box" data-offset="0"></button>
          <button class="date-box active" data-offset="1"></button>
          <button class="date-box" data-offset="2"></button>
        </div>

        <button class="full-calendar-btn" onclick="toggleCalendar()">VIEW FULL CALENDAR</button>
        <input type="date" id="calendarInput">
      </div>

      <!-- CANDLES -->
      <div class="option-group">
        <h4>NUMBER OF CANDLES</h4>
        <select>
          <option>No Candle</option>
          <option>1</option>
          <option>2</option>
          <option>3</option>
          <option>4</option>
          <option>5</option>
          <option>6</option>
        </select>
      </div>

      <!-- WISH CARD -->
      <div class="option-group">
        <h4>WISH CARD MESSAGE</h4>
        <div class="wish-grid" id="wishBoxes">
          <div class="wish-box" data-msg="Happy Birthday! üéÇ Wishing you joy, laughter and lots of cake on your special day.">üéÇ Birthday</div>
          <div class="wish-box" data-msg="Congratulations on your wedding day üíç May your love grow stronger every year.">üíç Wedding</div>
          <div class="wish-box" data-msg="Happy Anniversary ‚ù§Ô∏è Wishing you many more years of love and happiness together.">‚ù§Ô∏è Anniversary</div>
          <div class="wish-box" data-msg="Congratulations! üéâ Wishing you success and happiness always.">üéâ Congratulations</div>
        </div>
        <textarea id="cardMessage" rows="4"></textarea>
      </div>

     <button class="full-calendar-btn" style="background:#fb3eb9;margin-top:20px;" onclick="addToCartDetail()">ADD TO CART</button>

      <div class="back-btn" onclick="backToGallery()">‚Üê Back</div>
    </div>

<!-- ================== CUSTOMER REVIEWS ================== -->
<div class="review-section">
  <h3>Customer Reviews</h3>

  <div class="review-summary">
    <!-- SCORE -->
<div class="review-score">
  <div class="stars" id="avgStars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>

  <p><strong><span id="avgRating">0.00</span> out of 5</strong></p>
  <small>Based on <span id="totalReviews">0</span> reviews</small>
</div>


<!-- BARS -->
<div class="review-bars" id="reviewBars">
  <div class="bar-row">
    <span>5‚òÖ</span>
    <div class="bar"><div class="fill" id="bar5"></div></div>
    <span id="count5">0</span>
  </div>

  <div class="bar-row">
    <span>4‚òÖ</span>
    <div class="bar"><div class="fill" id="bar4"></div></div>
    <span id="count4">0</span>
  </div>

  <div class="bar-row">
    <span>3‚òÖ</span>
    <div class="bar"><div class="fill" id="bar3"></div></div>
    <span id="count3">0</span>
  </div>

  <div class="bar-row">
    <span>2‚òÖ</span>
    <div class="bar"><div class="fill" id="bar2"></div></div>
    <span id="count2">0</span>
  </div>

  <div class="bar-row">
    <span>1‚òÖ</span>
    <div class="bar"><div class="fill" id="bar1"></div></div>
    <span id="count1">0</span>
  </div>
</div>

  </div>
</section>


</main>

<script>
document.addEventListener('DOMContentLoaded', function() {

  /* ===== CART ===== */
  let cart = JSON.parse(localStorage.getItem("cart")) || [];

  function updateCartCount() {
    const cartCount = document.getElementById("cart-count");
    if(cartCount) cartCount.textContent = cart.length;
  }
  updateCartCount();

  /* ===== REVIEW BARS FUNCTION ===== */
function updateReviewBars(reviews){
  const c5 = reviews[5] || 0;
  const c4 = reviews[4] || 0;
  const c3 = reviews[3] || 0;
  const c2 = reviews[2] || 0;
  const c1 = reviews[1] || 0;

  const total = c5 + c4 + c3 + c2 + c1;

  // ===== UPDATE BAR WIDTH + COUNT =====
  const safeTotal = total || 1;

  for(let star = 5; star >= 1; star--){
    const count = reviews[star] || 0;
    const percent = Math.round((count / safeTotal) * 100);

    const bar = document.getElementById(`bar${star}`);
    const label = document.getElementById(`count${star}`);

    if(bar) bar.style.width = percent + "%";
    if(label) label.textContent = count;
  }

  // ===== CALCULATE AVERAGE RATING =====
  const avg = total
    ? ((5*c5 + 4*c4 + 3*c3 + 2*c2 + 1*c1) / total)
    : 0;

  // ===== UPDATE TEXT =====
  const avgRatingEl = document.getElementById("avgRating");
  const totalReviewsEl = document.getElementById("totalReviews");
  if(avgRatingEl) avgRatingEl.textContent = avg.toFixed(2);
  if(totalReviewsEl) totalReviewsEl.textContent = total;

  // ===== UPDATE STARS DISPLAY (FULL/EMPTY) =====
  const avgStarsEl = document.getElementById("avgStars");
  if(avgStarsEl){
    const full = Math.round(avg); // contoh: 4.86 -> 5
    avgStarsEl.textContent = "‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ‚òÜ‚òÜ‚òÜ‚òÜ".slice(5 - full, 10 - full);
  }
}

  /* ===== SORT PRODUCTS ===== */
  const select = document.getElementById('sort-by');
  const grid = document.querySelector('.product-grid');

  if(select && grid){
    select.addEventListener('change', function() {
      const value = this.value;
      const cards = Array.from(grid.querySelectorAll('.product-card'));
      let sorted;

      if(value === 'price-ascending'){
        sorted = cards.sort((a,b)=>
          parseFloat(a.dataset.price.replace(/[^0-9.]/g,'')) -
          parseFloat(b.dataset.price.replace(/[^0-9.]/g,''))
        );
      } else if(value === 'price-descending'){
        sorted = cards.sort((a,b)=>
          parseFloat(b.dataset.price.replace(/[^0-9.]/g,'')) -
          parseFloat(a.dataset.price.replace(/[^0-9.]/g,''))
        );
      } else {
        sorted = cards;
      }

      grid.innerHTML = '';
      sorted.forEach(card => grid.appendChild(card));
    });
  }

  /* ===== CAKE DETAIL POPUP ===== */
  const detailSection = document.getElementById('cakesDetail');
  const detailImg = document.getElementById('detailImg');
  const detailTitle = document.getElementById('detailTitle');
  const detailPrice = document.getElementById('detailPrice');

  window.openCakeDetail = function(cakeId) {
    const cake = cakeData.find(c => c.id === cakeId);
    if (!cake) return;

    detailImg.src = cake.img;
    detailTitle.textContent = cake.title;
    detailPrice.textContent = cake.price;
    document.getElementById('descContent').innerHTML = cake.description;

    /* ‚úÖ UPDATE REVIEW BARS ikut cake yang diklik */
    updateReviewBars(cake.reviews || {5:0,4:0,3:0,2:0,1:0});

    detailSection.style.display = 'block';
    document.body.style.overflow = 'hidden';

    // Reset accordion
    const acc = document.getElementById('descToggle');
    const content = document.getElementById('descContent');
    acc.classList.remove('active');
    content.style.display = 'none';
  };

  window.backToGallery = function() {
    detailSection.style.display = 'none';
    document.body.style.overflow = 'auto';
  };

  /* ===== ACCORDION TOGGLE ===== */
  const accToggle = document.getElementById('descToggle');
  const accContent = document.getElementById('descContent');
  if (accToggle && accContent) {
    accToggle.addEventListener('click', () => {
      accToggle.classList.toggle('active');
      accContent.style.display = accContent.style.display === 'block' ? 'none' : 'block';
    });
  }

  /* ===== DELIVERY DATE LOGIC (AUTO) ===== */
  const dateButtons = document.querySelectorAll('.date-box');
  const calendarInput = document.getElementById('calendarInput');

  const today = new Date();
  today.setHours(0,0,0,0);

  dateButtons.forEach((btn, index) => {
    const offset = parseInt(btn.dataset.offset);
    const date = new Date(today);
    date.setDate(today.getDate() + offset);

    // LABEL AUTO
    let label = '';
    if(offset === 0) label = 'TODAY';
    else if(offset === 1) label = 'TOMORROW';
    else label = `IN ${offset} DAYS`;

    // FORMAT TARIKH
    const dateText = date.toLocaleDateString('en-GB', {
      day: '2-digit',
      month: 'short',
      year: 'numeric'
    }).toUpperCase();

    btn.innerHTML = `
      <span class="label">${label}</span>
      <span class="date">${dateText}</span>
    `;
    btn.dataset.date = date.toISOString().split('T')[0];

    btn.addEventListener('click', () => {
      dateButtons.forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
      if(calendarInput) calendarInput.value = btn.dataset.date;
    });

    // AUTO SELECT FIRST DATE
    if(index === 0){
      btn.classList.add('active');
      if(calendarInput) calendarInput.value = btn.dataset.date;
    }
  });

  if(calendarInput){
    calendarInput.addEventListener('change', () => {
      dateButtons.forEach(b => b.classList.remove('active'));
    });
  }

  window.toggleCalendar = function(){
    if(!calendarInput) return;
    calendarInput.style.display =
      calendarInput.style.display === 'block' ? 'none' : 'block';
  };

  /* ===== WISH CARD MESSAGE ===== */
  const wishBoxes = document.querySelectorAll('.wish-box');
  const cardMessage = document.getElementById('cardMessage');

  wishBoxes.forEach(box=>{
    box.addEventListener('click', ()=>{
      wishBoxes.forEach(b=>b.classList.remove('active'));
      box.classList.add('active');
      if(cardMessage) cardMessage.value = box.dataset.msg;
    });
  });

});
</script>

<script>
/* ===== CAKE DATA (12 KIDS CAKES) + REVIEWS ===== */
const cakeData = [
  {
    id: "candle1",
    title: "Pearlized Slim Cake Candle",
    price: "RM 6.00",
    img: "c1.jpg",
    description: `
      <p class="desc-main">These are ultra-thin, elegant candles that mimic the graceful neck of the swan. They usually come in a pearlescent white or champagne gold to match the "ruffle" frosting.</p>
      <div class="desc-section">
    <h4>Ingredients</h4>
    <p>Paraffin wax or beeswax blend, cotton wick.</p>
  </div>
  <div class="desc-section">
    <h4>Weight & Dimensions</h4>
    <p>5‚Äì 8g</p>
  </div>
    `,
    reviews: {5: 52, 4: 12, 3: 2, 2: 1, 1: 0}
  },
  {
    id: "candle2",
    title: "Mini Taper Chandelier Candle",
    price: "RM 15.00",
    img: "c2.jpg",
    description: `
       <p class="desc-main">
    These are specifically designed for the silver chandelier topper seen in the image. They are very short and slim to fit into the small arms of the plastic or metal candelabra.
  </p>
  <div class="desc-section">
    <h4>Ingredients</h4>
    <p>High-density paraffin wax (to prevent dripping onto the black frosting).</p>
  </div>
  <div class="desc-section">
    <h4>Weight & Dimensions</h4>
    <p>2 ‚Äì 3g</p>
  </div>
    `,
    reviews: {5: 33, 4: 14, 3: 4, 2: 1, 1: 0}
  },
  {
    id: "candle3",
    title: "The Strawberry Meadow Candle",
    price: "RM 3.50",
    img: "c3.jpg",
    description: `
  <p class="desc-main">
    Since the cake already has many strawberries, short, thick candles are often placed directly behind or inside the fruit to create a "glowing" effect without overshadowing the berries.
  </p>
  <div class="desc-section">
    <h4>Ingredients</h4>
    <p>Soy wax blend (often used for scented varieties).</p>
  </div>
  <div class="desc-section">
    <h4>Weight & Dimensions</h4>
    <p>10 ‚Äì 15g</p>
  </div>
    `,
    reviews: {5: 61, 4: 18, 3: 5, 2: 1, 1: 0}
  },
  {
    id: "candle4",
    title: "Butterfly-Shaped Sculptural Candle",
    price: "RM 10.00",
    img: "c4.jpg",
    description: `
  <p class="desc-main">
    To match the large butterfly topper, a single 3D-molded candle in the shape of a butterfly is used. The wick is usually placed at the top edge of the wing.
  </p>
  <div class="desc-section">
    <h4>Ingredients</h4>
    <p>Refined paraffin wax with non-toxic color pigments.</p>
  </div>
  <div class="desc-section">
    <h4>Weight & Dimensions</h4>
    <p>20 ‚Äì 25g</p>
  </div>
    `,
    reviews: {5: 45, 4: 16, 3: 3, 2: 1, 1: 0}
  },
  {
    id: "candle5",
    title: "Gold Chandelier Topper with Mini Tapers",
    price: "RM 15.00",
    img: "c5.jpg",
    description: `
        <p class="desc-main">
    A reusable gold-toned plastic or metal candelabra that holds up to 9 small, slim candles. It provides a vintage, high-society look to minimalist cakes.
  </p>
  <div class="desc-section">
    <h4>Ingredients</h4>
    <p>Paraffin wax minis; plastic or metal alloy for the holder.</p>
  </div>
  <div class="desc-section">
    <h4>Weight & Dimensions</h4>
    <p>30 ‚Äì 40g</p>
  </div>
    `,
    reviews: {5: 72, 4: 14, 3: 4, 2: 0, 1: 1}
  },
  {
    id: "candle6",
    title: "Pink Glitter 3D Number Candle",
    price: "RM 4.00",
    img: "c6.jpg",
    description: `
    <p class="desc-main">
    Thick, molded number candles with a glitter finish and an ombre or solid pink gradient. They often feature a small plastic pick at the base for stability.
  </p>
  <div class="desc-section">
    <h4>Ingredients</h4>
    <p>High-quality paraffin wax, non-toxic glitter, and cotton wick.</p>
  </div>
  <div class="desc-section">
    <h4>Weight & Dimensions</h4>
    <p>15 ‚Äì 20g</p>
  </div>
    `,
    reviews: {5: 28, 4: 12, 3: 4, 2: 2, 1: 0}
  },
  {
    id: "candle7",
    title: "Extra Long Gold Wavy / Spiral Candle",
    price: "RM 6.00",
    img: "c7.jpg",
    description: `
  <p class="desc-main">
    Tall, elegant candles with a unique "wiggly" or spiral shape and a shiny metallic gold finish. They add vertical height without hiding the macarons.
  </p>
  <div class="desc-section">
    <h4>Ingredients</h4>
    <p>Smokeless, dripless paraffin wax with a food-safe metallic coating.</p>
  </div>
  <div class="desc-section">
    <h4>Weight & Dimensions</h4>
    <p>4 ‚Äì 6g</p>
  </div>
    `,
    reviews: {5: 40, 4: 15, 3: 6, 2: 1, 1: 1}
  },
  {
    id: "candle8",
    title: "Single Tall Pastel Taper Candle",
    price: "RM 2.00",
    img: "c8.jpg",
    description: `
  <p class="desc-main">
   A classic, extra-tall smooth taper candle in a pastel shade (like mint green or soft yellow) to serve as a "maypole" for the animal figurines.
  </p>
  <div class="desc-section">
    <h4>Ingredients</h4>
    <p>Refined paraffin or beeswax blend.</p>
  </div>
  <div class="desc-section">
    <h4>Weight & Dimensions</h4>
    <p>8 ‚Äì 20g</p>
  </div>
    `,
    reviews: {5: 24, 4: 10, 3: 4, 2: 1, 1: 0}
  },
  {
    id: "candle9",
    title: "Aesthetic: Dripping Bento Candle",
    price: "RM 15.00",
    img: "c9.jpg",
    description: `
  <p class="desc-main">
   These are miniature candles designed to look like tiny bento cakes themselves. They feature hand-piped wax "frosting," decorative wax "drips," and often have tiny molded letters or flowers on top.
  </p>
  <div class="desc-section">
    <h4>Ingredients</h4>
    <p>Typically made from a soy wax blend (for a creamy finish) or paraffin, cotton wick, and premium fragrance oils.</p>
  </div>
  <div class="desc-section">
    <h4>Weight & Dimensions</h4>
    <p>95 ‚Äì 175g</p>
  </div>
    `,
    reviews: {5: 39, 4: 13, 3: 4, 2: 1, 1: 1}
  },
  {
    id: "candle10",
    title: "Tall Pastel Ribbon Bow Candle",
    price: "RM 3.00",
    img: "c10.jpg",
    description: `
        <p class="desc-main">
    An extra-tall, slim pencil candle that has been custom-shaped into a large, elegant loop or "bow" at the top. These are popular for "coquette" style cakes.
  </p>
  <div class="desc-section">
    <h4>Ingredients</h4>
    <p>Flexible refined paraffin wax and non-toxic dye.</p>
  </div>
  <div class="desc-section">
    <h4>Weight & Dimensions</h4>
    <p>10 ‚Äì 15g</p>
  </div>
    `,
    reviews: {5: 26, 4: 11, 3: 2, 2: 1, 1: 1}
  },
  {
    id: "candle11",
    title: "Silver Glitter Star Wand Candle",
    price: "RM 8.00",
    img: "c11.jpg",
    description: `
          <p class="desc-main">
      3D pentagram (star) shapes mounted on long wooden or plastic sticks. They are often sold in sets to create a "bouquet" of stars across the cake.
    </p>
    <div class="desc-section">
      <h4>Ingredients</h4>
      <p>Paraffin wax base with a metallic spray or glitter coating.</p>
    </div>
    <div class="desc-section">
      <h4>Weight & Dimensions</h4>
      <p>100g</p>
    </div>
    `,
    reviews: {5: 18, 4: 9, 3: 4, 2: 1, 1: 1}
  },
  {
    id: "candle12",
    title: "Character Cartoon & Star Parade Set",
    price: "RM 15.00",
    img: "c12.jpg",
    description: `
    <p class="desc-main">
      A curated multi-pack containing various shapes: 1 central character
      , several stars, and classic striped pencil candles.
    </p>
    <div class="desc-section">
      <h4>Ingredients</h4>
      <p>Standard paraffin wax with food-safe plastic supports.</p>
    </div>
    <div class="desc-section">
      <h4>Weight & Dimensions</h4>
      <p>25‚Äì 40g</p>
    </div>
    `,
    reviews: {5: 80, 4: 16, 3: 4, 2: 1, 1: 1}
  }
];
</script>


<script>
function addToCartDetail() {
  const title = document.getElementById("detailTitle").textContent;
  const price = document.getElementById("detailPrice").textContent;
  const img = document.getElementById("detailImg").src;

  let cart = JSON.parse(localStorage.getItem("cart")) || [];

  // Check if item already exists
  const existing = cart.find(item => item.title === title);

  if (existing) {
    existing.qty += 1;
  } else {
    cart.push({
      title,
      price,
      img,
      qty: 1
    });
  }

  localStorage.setItem("cart", JSON.stringify(cart));

  // Update cart counter
  const cartCount = document.getElementById("cart-count");
  if (cartCount) cartCount.textContent = cart.length;

  alert("Added to cart! Your Sweet Bliss moment just got sweeter üå∏");
}
</script>


<footer>
¬© 2025 Sweet Bliss Cake | Recommended Browser: Google Chrome |
Resolution: 1920 √ó 1080 <br>
Last Updated: January 2026
</footer>

<script>
document.addEventListener("DOMContentLoaded", () => {
  const faqButtons = document.querySelectorAll(".faqAccordion dt button");

  faqButtons.forEach(button => {
    button.addEventListener("click", () => {
      const panelId = button.getAttribute("aria-controls");
      const panel = document.getElementById(panelId);

      const isOpen = button.getAttribute("aria-expanded") === "true";

      // close all first
      faqButtons.forEach(btn => {
        btn.setAttribute("aria-expanded", "false");
        const p = document.getElementById(btn.getAttribute("aria-controls"));
        if (p){
          p.style.display = "none";
          p.setAttribute("aria-hidden", "true");
        }
      });

      // if it was closed, open it (if it was open, it stays closed)
      if (!isOpen) {
        button.setAttribute("aria-expanded", "true");
        panel.style.display = "block";
        panel.setAttribute("aria-hidden", "false");
      }
    });
  });
});
</script>


</body>
</html>
